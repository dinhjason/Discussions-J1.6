<?php

// Check to ensure this file is included in Joomla!
defined('_JEXEC') or die( 'Restricted access' );

jimport( 'joomla.application.component.view');



/** 
 * Category View 
 */ 
class DiscussionsViewCategory extends JView { 


	/** 
     * Renders the view 
     * 
     */ 
    function display() { 
				
		global $mainframe;

		$document =& JFactory::getDocument();
				
		$threads                =& $this->get('Threads');
		$pagination             =& $this->get('Pagination');

        $categoryId             =& $this->get('CategoryId');
        $categoryName           =& $this->get('CategoryName');
		$categoryDescription    =& $this->get('CategoryDescription');
		$categoryImage          =& $this->get('CategoryImage');
        $categorySlug           =& $this->get('CategorySlug');


		// get parameters
		$params = &$mainframe->getParams();

		$menus	= &JSite::getMenu();
		$menu	= $menus->getActive();

		if (is_object( $menu )) {
			$menu_params = new JParameter( $menu->params );
			if (!$menu_params->get( 'page_title')) {
				$params->set('page_title',	JText::_( 'Forums' ));
			}
		} else {
			$params->set('page_title',	JText::_( 'Forums' ));
		}

		$document->setTitle( $params->get( 'page_title' ) );


        
		$this->assignRef('threads',	$threads);
		$this->assignRef('pagination', $pagination);

		$this->assignRef('categoryId', $categoryId);
		$this->assignRef('categoryName', $categoryName);
		$this->assignRef('categoryDescription', $categoryDescription);
		$this->assignRef('categoryImage', $categoryImage);
		$this->assignRef('categorySlug', $categorySlug);
                
		$this->assignRef('params',		$params);
           
                
        // display the view 
        parent::display(); 

    }


}
