<?php

// Check to ensure this file is included in Joomla!
defined('_JEXEC') or die( 'Restricted access' );

jimport( 'joomla.application.component.view');



/**
 * Thread View
 */
class DiscussionsViewThread extends JView {


	/**
     * Renders the view
     *
     */
    function display() {

		global $mainframe;

		$document =& JFactory::getDocument();


		$postings               =& $this->get('Postings');
        $pagination             =& $this->get('Pagination');

        $categoryId             =& $this->get('CategoryId');
        $categorySlug           =& $this->get('CategorySlug');
        $categoryName           =& $this->get('CategoryName');
        $categoryDescription    =& $this->get('CategoryDescription');
        $categoryImage          =& $this->get('CategoryImage');
        $subject                =& $this->get('Subject');
        $thread             	=& $this->get('Thread');
        $threadId             	=& $this->get('ThreadId');
        $stickyStatus           =& $this->get('StickyStatus');
        $lockedStatus           =& $this->get('LockedStatus');


		// get parameters
		$params = &$mainframe->getParams();

		$menus	= &JSite::getMenu();
		$menu	= $menus->getActive();

		if (is_object( $menu )) {
			$menu_params = new JParameter( $menu->params );
			if (!$menu_params->get( 'page_title')) {
				$params->set('page_title',	JText::_( 'Forums' ));
			}
		} else {
			$params->set('page_title',	JText::_( 'Forums' ));
		}

		$document->setTitle( $params->get( 'page_title' ) );



        $this->assignRef('postings', $postings);
		$this->assignRef('pagination', $pagination);

		$this->assignRef('categoryId', $categoryId);
		$this->assignRef('categorySlug', $categorySlug);
		$this->assignRef('categoryName', $categoryName);
		$this->assignRef('categoryDescription', $categoryDescription);
		$this->assignRef('categoryImage', $categoryImage);
		$this->assignRef('subject', $subject);
		$this->assignRef('thread', $thread);
		$this->assignRef('threadId', $threadId);
		$this->assignRef('stickyStatus', $stickyStatus);
		$this->assignRef('lockedStatus', $lockedStatus);

		$this->assignRef('params',		$params);


        // display the view
        parent::display();

    }



}
