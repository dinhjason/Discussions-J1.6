<?php

// Check to ensure this file is included in Joomla!
defined('_JEXEC') or die( 'Restricted access' );

jimport( 'joomla.application.component.view');



/**
 * Posting View
 */
class DiscussionsViewPosting extends JView {


	/**
     * Renders the view
     *
     */
    function display() {

		global $mainframe;

		$document =& JFactory::getDocument();

		$postings               =& $this->get('Postings');
        $categoryId             =& $this->get('CategoryId');
        $categorySlug           =& $this->get('CategorySlug');
        $categoryName           =& $this->get('CategoryName');
        $categoryImage          =& $this->get('CategoryImage');
        $headline               =& $this->get('Headline');
        $subject                =& $this->get('Subject');
        $messageText            =& $this->get('MessageText');
        $task                   =& $this->get('Task');


		// get parameters
		$params = &$mainframe->getParams();

		$menus	= &JSite::getMenu();
		$menu	= $menus->getActive();

		if (is_object( $menu )) {
			$menu_params = new JParameter( $menu->params );
			if (!$menu_params->get( 'page_title')) {
				$params->set('page_title',	JText::_( 'Forums' ));
			}
		} else {
			$params->set('page_title',	JText::_( 'Forums' ));
		}

		$document->setTitle( $params->get( 'page_title' ) );




        $this->assignRef('postings', $postings);
		$this->assignRef('categoryId', $categoryId);
		$this->assignRef('categorySlug', $categorySlug);
		$this->assignRef('categoryName', $categoryName);
		$this->assignRef('categoryImage', $categoryImage);
		$this->assignRef('headline', $headline);
		$this->assignRef('subject', $subject);
		$this->assignRef('messageText', $messageText);
		$this->assignRef('task', $task);

		$this->assignRef('params',		$params);


        // display the view
        parent::display();

    }



}
